<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>TDR 16分類図鑑</title>
<meta name="description" content="TDRの16タイプを一覧で確認。クリックで該当タイプへスクロール。">
    <!-- OGP設定 -->
<meta name="description" content="温度・深度・硬度・内外の4軸で“可動域”を測るTDR式診断。">
<meta property="og:title" content="TDR 4軸"><meta property="og:description" content="“動かせる自分”を測る診断と16分類図鑑。">
<meta property="og:type" content="website"><meta property="og:image" content="https://zacky-gpt.github.io/tdr-site/assets/og.png">
<link rel="icon" href="https://zacky-gpt.github.io/tdr-site/favicon.ico" type="image/x-icon">
  <!-- Twitterカード対応 -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="TDR 4軸性格診断" />
<meta name="twitter:description" content="動かせる自分を見つける診断と16分類図鑑。" />
<meta name="twitter:image" content="https://zacky-gpt.github.io/tdr-site/assets/og.png" />
  
<style>

  :root{
    --bg:#0f1115;
    --panel:#171a21cc;
    --line:#ffffff24;
    --text:#e8ecf1;
    --muted:#9aa4b2;
    --accent:#7dd3fc;
    --accent-strong:#38bdf8;
    --chip:#1a202bcc;
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0;
    color:var(--text);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",sans-serif;
    line-height:1.7;
    background:
      radial-gradient(circle at 12% -8%, #38bdf81f 0%, transparent 48%),
      radial-gradient(circle at 90% 0%, #a78bfa19 0%, transparent 42%),
      linear-gradient(180deg,#0f1115 0%,#131722 62%,#0f1115 100%);
  }
  .wrap{max-width:1080px;margin:0 auto;padding:18px}
  h1{font-size:clamp(1.4rem,2.8vw,1.9rem);margin:10px 0 4px;letter-spacing:.01em}
  .sub{color:var(--muted);font-size:13px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;margin:14px 0 10px}
  .chip{
    display:block;text-align:center;padding:10px 8px;border-radius:10px;
    background:var(--chip);border:1px solid #ffffff22;color:#e8ecf1;text-decoration:none;font-weight:700;
    transition:background .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease;
  }
  .chip:hover{background:#1d232f;border-color:var(--accent);transform:translateY(-1px);box-shadow:0 8px 18px #38bdf840}
  .card{
    position:relative;
    overflow:hidden;
    background:var(--panel);
    border:1px solid #ffffff22;
    border-radius:14px;
    padding:14px;
    margin:12px 0;
    box-shadow:0 10px 26px #00000032;
    backdrop-filter: blur(4px);
    scroll-margin-top: 92px;
  }
  .card::before{
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(120deg,transparent,rgba(255,255,255,.05),transparent);
    transform:translateX(-130%);
    transition:transform .78s ease;
    pointer-events:none;
  }
  .card:hover::before{transform:translateX(130%)}
  .code{font-family:ui-monospace,Menlo,monospace;font-weight:800}
  .sect{border-left:4px solid #22d3ee;padding-left:10px;margin-top:6px}
  .tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
  .tag{font-size:12px;padding:3px 8px;border-radius:999px;background:#ffffff10;border:1px solid #ffffff20}
  .foot{color:var(--muted);font-size:12px;margin-top:8px}
  .toplink{
    position:fixed;right:14px;bottom:80px;z-index:9999;
    background:linear-gradient(135deg,var(--accent),var(--accent-strong));color:#081019;border:none;border-radius:999px;
    padding:10px 14px;font-weight:800;cursor:pointer;
    box-shadow:0 8px 20px #38bdf84d;
    opacity:0; pointer-events:none; transition:opacity .2s, transform .2s;
  }
  .toplink.show{ opacity:1; pointer-events:auto; }
  .toplink:hover{transform:translateY(-1px)}

  /* フィルターバー */
  .filterbar{
    position: sticky; top: 0; z-index: 20;
    display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
    padding: 10px 12px; margin: 8px 0 12px;
    background: rgba(23,26,33,.78);
    border: 1px solid #ffffff26;
    border-radius: 12px;
    backdrop-filter: blur(8px);
    box-shadow:0 8px 20px #00000028;
  }
  .filterbar .row{display:flex; gap:6px; align-items:center}
  .filterbar label{font-size:12px; color:var(--muted)}
  .filterbar select{
    background:#0f1115; color:#e8ecf1; border:1px solid #ffffff33;
    border-radius:8px; padding:6px 8px;
  }
  .filterbar select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px #38bdf833}
  .filterbar .ghost{
    margin-left:auto; background:transparent; color:#e8ecf1;
    border:1px solid #ffffff33; border-radius:8px; padding:6px 10px; cursor:pointer;
    transition:background .2s ease,border-color .2s ease;
  }
  .filterbar .ghost:hover{background:#ffffff0d;border-color:var(--accent)}
  .filterbar .count{font-size:12px; color:var(--muted)}
  @media (max-width:700px){ .filterbar{gap:8px} .filterbar .ghost{order:5; margin-left:0} }

</style>
</head>
<body>
<!-- 固定フィルタバー -->
<div id="filterBar" class="filterbar">
  <div class="row">
    <label>I/E</label>
    <select data-axis="ie">
      <option value="M">M（両方）</option>
      <option value="I">I</option>
      <option value="E">E</option>
    </select>
  </div>
  <div class="row">
    <label>T（温度）</label>
    <select data-axis="t">
      <option value="M">M（中庸）</option>
      <option value="C">C（低温）</option>
      <option value="H">H（高温）</option>
    </select>
  </div>
  <div class="row">
    <label>D（深さ）</label>
    <select data-axis="d">
      <option value="M">M（中庸）</option>
@@ -266,35 +316,45 @@ function setupFilter(types){

    // 詳細とフィルタ
    setupFilter(types);

    // ハッシュ着地
    if (location.hash) {
      const el = document.querySelector(location.hash);
      el && el.scrollIntoView({behavior:"smooth", block:"start"});
    }

    // ページ内リンクをスムーススクロール
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener("click", e=>{
        const id = a.getAttribute("href");
        const el = document.querySelector(id);
        if(el){
          e.preventDefault();
          history.replaceState(null,"",id);
          el.scrollIntoView({behavior:"smooth", block:"start"});
        }
      });
    });

  }catch(err){
    console.error(err);
    const msg = String(err);
    document.getElementById("grid").innerHTML =
      `<div class="sub">読み込み失敗：${msg}</div>`;
    document.getElementById("details").innerHTML = `
      <section class="card">
        <div class="sect">
          <div style="font-size:18px;font-weight:800">図鑑データを読み込めませんでした</div>
          <p style="margin-top:8px">このページは <code>../data/types.json</code> を読み込んで表示します。ファイルを直接開く（<code>file://</code>）と読み込みに失敗することがあります。</p>
          <p style="margin-top:8px">ローカル確認時は、プロジェクト直下で次のコマンドを実行して <code>http://localhost:4173/atlas/</code> で開いてください。</p>
          <p><code>python3 -m http.server 4173</code></p>
        </div>
      </section>`;
  }
})();
  
</script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

</body>
</html>
